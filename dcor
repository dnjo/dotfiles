alias dco-up="docker-compose-project up"
alias dco-stop="docker-compose-project stop"
alias dco-restart="docker-compose-project restart"
alias dco-logs="docker-compose-project logs -t"
alias dcor="docker-compose-project-run"
alias dcor-rspec="dcor bundle exec rspec"
alias dcor-bash="dcor /bin/bash"

docker-compose-project() {
  project_name=${PWD##*/}
  project_dir=$(pwd)
  compose_file="$DCOR_COMPOSE_DIR/$project_name.yml"
  command=$@
  compose="PROJECT_DIR=$project_dir docker-compose -p $project_name -f $compose_file $command"
  eval $compose
}

docker-compose-project-run() {
  service=${PWD##*/}
  command=$@
  docker-compose-project run --rm $service $command
}
